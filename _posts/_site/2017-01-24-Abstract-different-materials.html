<p>Getting to the real meat/exciting part of the project. By creating Metal and Lambertian materials, I learned how each material interacts with rays.</p>

<p>Taking into account the point a ray hits a sphere, let’s say <em>N</em> is the Normal of the point. A reflected ray’s unit vector <em>v</em> will have the direction <em>(v + 2B)</em>, where <em>B</em> is the dot product of the vector <em>v</em> and the hit point’s normal <em>N</em>. The results in the projection of the normal vector onto the ray, as seen with the following code:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">func</span><span class="x"> </span><span class="n">Reflect</span><span class="p">(</span><span class="n">v</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">Vec3</span><span class="p">,</span><span class="x"> </span><span class="n">n</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">Vec3</span><span class="p">)</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">Vec3</span><span class="x"> </span><span class="p">{</span><span class="x">
	</span><span class="k">return</span><span class="x"> </span><span class="n">v</span><span class="o">.</span><span class="n">SubtractVector</span><span class="p">(</span><span class="n">n</span><span class="o">.</span><span class="n">MultiplyNum</span><span class="p">(</span><span class="m">2.0</span><span class="x"> </span><span class="o">*</span><span class="x"> </span><span class="n">v</span><span class="o">.</span><span class="n">Dot</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span><span class="x">
</span><span class="p">}</span><span class="x">
</span></code></pre></div></div>

<p>On the other hand, lambertian materials diffuse rays. Light is reflected at many angles, so we depict this through randomizing how the ray is scattered:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">target</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">rec</span><span class="o">.</span><span class="n">P</span><span class="o">.</span><span class="n">AddVector</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">Normal</span><span class="p">)</span><span class="o">.</span><span class="n">AddVector</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">RandomInUnitSphere</span><span class="p">())</span><span class="x">
</span><span class="o">*</span><span class="n">scattered</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">models</span><span class="o">.</span><span class="n">Ray</span><span class="p">{</span><span class="n">Origin</span><span class="o">:</span><span class="x"> </span><span class="n">rec</span><span class="o">.</span><span class="n">P</span><span class="p">,</span><span class="x"> </span><span class="n">Direction</span><span class="o">:</span><span class="x"> </span><span class="n">target</span><span class="o">.</span><span class="n">SubtractVector</span><span class="p">(</span><span class="n">rec</span><span class="o">.</span><span class="n">P</span><span class="p">)}</span><span class="x">
</span></code></pre></div></div>

<p>Modifying <code class="highlighter-rouge">main.go</code> to take into various materials of spheres, and adding fuzzier reflections for larger spheres, we’re given the following image:</p>

<p><img src="/assets/img/fuzz1.png" alt="" /></p>
